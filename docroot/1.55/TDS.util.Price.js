Ext.namespace("TDS.util.Price");TDS.util.Price.Symbols={AUD:"",NZD:"$",USD:"$",JPY:"&yen;",EUR:"&euro;",CAD:"$"};TDS.util.Price.formatPrice=function(b,a){if(typeof b!="number"){return""}return TDS.util.Price.formatCurrency(a)+" "+b.toFixed(2)};TDS.util.Price.formatCurrency=function(a){if(!a){return""}var b=TDS.util.Price.Symbols[a]?TDS.util.Price.Symbols[a]:"";return a.substring(0,3)+b};TDS.util.Price.conversionPriceRenderer=function(c,b,a){return TDS.util.Price.formatPrice(c,a.data.conversionCurrency)};TDS.util.Price.conversionGrossNettPriceRenderer=function(d,b,a){var c=TDS.util.Price.calculateGrossNettPrice(a.data);if(a.get("convertedPricingPriceSell")!=null&&a.get("convertedPricingPriceSell")!=0){if(c){return c.priceFormatted}}else{return"-"}};TDS.util.Price.fixedGrossNettPriceRenderer=function(d,b,a){var c=TDS.util.Price.calculateGrossNettPrice(a.data,true);if(c){return c.priceFormatted}};TDS.util.Price.amountRenderer=function(c,b,a){return TDS.util.Price.formatPrice(c,a.data.currency)};TDS.util.Price.amountRendererLedger=function(c,b,a){var d="";if(a.data.priceIsNetFlag){d=" (M)"}else{if(a.data.priceIsNetFlag==false){d=" (C)"}}if(a.data.priceIsNetFlag===0){d=""}return TDS.util.Price.formatPrice(c,a.data.currency)+d};TDS.util.Price.homeCurrencyPriceRenderer=function(c,b,a){return TDS.util.Price.formatPrice(c,a.data.homeCurrency)};TDS.util.Price.homeCurrencyGrossNettPriceRenderer=function(d,b,a){var c=TDS.util.Price.calculateGrossNettPrice(a.data,true);if(c){return c.priceFormatted}};TDS.util.Price.calculateGrossNettPrice=function(c,g){if(!c){return}var f,h,i,k,d,b,j,l,e;if(g){f=c.homeCurrency;h=c.pricingPriceSell;i=c.pricingPriceCommission;d=c.pricingPriceIsNett}else{f=c.conversionCurrency;h=c.convertedPricingPriceSell;i=c.convertedPricingPriceCommission;d=c.convertedPricingPriceIsNett}if(d){e=TDS.util.Price.formatPrice(h,f)+" (nett)"}else{b=h;if(!i){i=0}var a=((i*100)/h).toFixed(2);if(!isNaN(a)){k=a}else{k=0}j=h-i;l=TDS.util.Price.formatPrice(j,f);e=TDS.util.Price.formatPrice(b,f)+" ("+k+"%)"}return{priceCurrency:f,priceSell:h,priceGross:b,priceNett:j,priceCommission:i,priceCommissionPercentage:k,priceIsNett:d,priceFormatted:e,priceNettFormatted:l}};TDS.util.Price.calculateFixedGrossNettPrice=function(b){if(!b){return}var f,h,i,c,a,d,g,e,k,j;f=b.pricingPriceCurrency;h=b.pricingPriceSell;i=b.pricingPriceCommission;c=b.pricingPriceIsNett;if(c){g="Nett";e=h+i;j=""}else{g="Gross";e=h;k=((i*100)/h).toFixed(2);if(!isNaN(k)){j=k+"%"}}if(c&&i){a=h+i;d=TDS.util.Price.formatPrice(a,f)+" (includes "+TDS.util.Price.Symbols[f]+" "+i.toFixed(2)+" markup)"}else{d=TDS.util.Price.formatPrice(h,f)}return{priceCurrency:f,priceSell:h,priceGross:a,priceCommission:i,priceIsNett:c,priceFormatted:d,flag:g,priceCommissionPercentage:j,extragross:e}};TDS.util.Price.homeCurrencyPackageGrossNettPriceRenderer=function(d,b,a){var c=TDS.util.Price.calculatePackageGrossNettPrice(a.data,true);if(c){return c.priceFormatted}};TDS.util.Price.calculatePackageGrossNettPrice=function(c,g){if(!c){return}var f,h,i,k,d,b,j,l,e;if(g){f=c.homeCurrency;h=c.packagepricingPriceSell;i=c.packagepricingPriceCommission;d=c.packagepricingPriceIsNett}else{f=c.conversionCurrency;h=c.packagePrice;i=c.convertedPricingPriceCommission;d=c.convertedPricingPriceIsNett}if(d){e=TDS.util.Price.formatPrice(h,f)+" (nett)"}else{b=h;if(!i){i=0}var a=((i*100)/h).toFixed(2);if(!isNaN(a)){k=a}else{k=0}j=h-i;l=TDS.util.Price.formatPrice(j,f);e=TDS.util.Price.formatPrice(b,f)+" ("+k+"%)"}return{priceCurrency:f,priceSell:h,priceGross:b,priceNett:j,priceCommission:i,priceCommissionPercentage:k,priceIsNett:d,priceFormatted:e,priceNettFormatted:l}};TDS.util.Price.conversionPackageGrossNettPriceRenderer=function(d,b,a){var c=TDS.util.Price.calculatePackageGrossNettPrice(a.data);if(a.get("packagePrice")!=null&&a.get("packagePrice")!=0){if(c){return c.priceFormatted}}else{return"-"}};