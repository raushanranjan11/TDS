Ext.AwesomeTree=Ext.extend(Ext.tree.TreePanel,{initComponent:function(){Ext.apply(this,{animate:false,rootVisible:false,modified:new Ext.util.MixedCollection()});this.loader=new Ext.tree.DynamicTreeLoader({requestMethod:"GET",dataUrl:""});Ext.AwesomeTree.superclass.initComponent.apply(this,arguments);this.on("checkchange",this.onCheckChange,this)},onCheckChange:function(b,l){var n=b.parentNode;var g={};for(var f=0,e=n.childNodes.length;f<e;f++){var h=n.childNodes[f];g[h.attributes.baseDataURI]=h.attributes.checked}var k=this.getLoader().getDataUrl()+"/"+n.attributes.baseDataURI;if(n.attributes.isParent){k+="/parentGroups"}else{if(n.attributes.isChild){k+="/children"}}var a={destinationDataURI:k,data:g};if(this.modified.get(n.attributes.baseDataURI)!=="undefined"){this.modified.replace(n.attributes.baseDataURI,a)}else{this.modified.add(n.attributes.baseDataURI,a)}},getModifiedNodes:function(){var a=[];this.modified.each(function(b){a.push(b)});return a}});Ext.reg("awesometree",Ext.AwesomeTree);