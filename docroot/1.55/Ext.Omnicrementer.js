Ext.form.OmnicrementerField=Ext.extend(Ext.form.TwinTriggerField,{trigger1Class:"x-form-minus-trigger",trigger2Class:"x-form-plus-trigger",width:60,allowNegative:false,vtype:"numeric",minText:"The value in this field must be greater or equal to {0}",maxText:"The value in this field must be less or equal to {0}",initComponent:function(){Ext.form.OmnicrementerField.superclass.initComponent.call(this);this.addEvents("trigger");this.on("specialkey",function(a,b){if(b.getKey()==b.UP_ARROW||b.getKey()==b.RIGHT_ARROW){this.onTrigger2Click()}if(b.getKey()==b.DOWN_ARROW||b.getKey()==b.LEFT_ARROW){this.onTrigger1Click()}},this)},onTrigger1Click:function(){if(!isNaN(this.el.dom.value)&&!this.disabled){if(this.allowNegative||this.el.dom.value>0){var a=this.getValue()-1;if(a<this.minValue){return}this.setValue(a);if(this.isValid(true)){this.fireEvent("trigger",this,this.getValue())}}}},onTrigger2Click:function(){if(!isNaN(this.el.dom.value)&&!this.disabled){var a=this.getValue()+1;if(a>this.maxValue){return}this.setValue(a);if(this.isValid(true)){this.fireEvent("trigger",this,this.getValue())}}},getValue:function(){if(!this.rendered){return parseInt(this.value)}var a=this.el.getValue();if(a===this.emptyText||a===undefined){a=0}a=parseInt(a);if(isNaN(a)){return 0}return a},setValue:function(a){if(isNaN(a)){return}this.value=a;this.el.dom.value=this.value;if(this.rendered){this.validate()}},setMinValue:function(a){this.minValue=a},setMaxValue:function(a){this.maxValue=a;if(this.value&&this.value>this.maxValue){this.setValue(this.maxValue)}},validateValue:function(a){if(this.minValue&&a<this.minValue){this.markInvalid(String.format(this.minText,this.minValue));return false}if(this.maxValue&&a>this.maxValue){this.markInvalid(String.format(this.maxText,this.maxValue));return false}return true}});Ext.reg("omnicrementer",Ext.form.OmnicrementerField);