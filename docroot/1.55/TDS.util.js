Ext.namespace("TDS.util","TDS.util.Templates","TDS.util.Format","TDS.helpers");TDS.util.Defaults={searchViewDefaultsTerms:false,searchViewDefaultsMaps:false,searchViewDefaultsPropertyFacilities:false,searchViewDefaultsLinks:false,searchViewDefaultsInformation:true,hotusaSupplier:"supplier/190"};TDS.util.Templates.ComboNoLabel=new Ext.XTemplate('<tpl for=".">','<div class="x-combo-list-item{[values.name == "" ? " x-tds-combo-list-nolabel" : ""]}">{name}</div>',"</tpl>");TDS.util.collectionToEnglishSentenceList=function(d){if(!d.fieldName){d.fieldName="displayName"}var b=[];for(var c=0;c<d.collection.length;c++){b.push(d.data[d.collection[c]][d.fieldName])}return TDS.util.arrayToEnglishSentenceList(b)};TDS.util.arrayToEnglishSentenceList=function(b){var d="";for(var c=0;c<b.length;c++){if((b.length-1)==c){if(b.length>1){d=d.substring(0,d.lastIndexOf(","))+" and "}d+=b[c]+"."}else{d+=" "+b[c]+","}}return d};TDS.util.collectionToEnglishSentenceLists=function(d){if(!d.fieldName){d.fieldName="displayName"}var b=[];for(var c=0;c<d.collection.length;c++){b.push(d.data[d.collection[c]][d.fieldName])}return TDS.util.arrayToEnglishSentenceLists(b)};TDS.util.arrayToEnglishSentenceLists=function(b){var d="";for(var c=0;c<b.length;c++){if((b.length-1)==c){if(b.length>1){d=d.substring(0,d.lastIndexOf("."))+" and "}d+=b[c]+"."}else{d+=" "+b[c]+".<br>"}}return d};TDS.util.firstWordCapital=function(f){var e=f.split(" ");for(var b=0;b<e.length;b++){var d=e[b];var a=d.substr(0,1);var c=d.substr(1,d.length-1);e[b]=a.toUpperCase()+c.toLowerCase()}return e.join(" ")};TDS.util.Format.dateSpecial=function(b,c){var a=Date.parseDate(b,TDS.env.dateFormat);return Ext.util.Format.date(a,c)};TDS.util.Format.dateSpecialRenderer=function(a){return function(b){return TDS.util.Format.dateSpecial(b,a)}};TDS.util.Format.booleanRenderer=function(a){return a?"Yes":"No"};TDS.util.Format.age=function(d){if(typeof d=="undefined"||d==""){return""}var c=Date.parseDate(d,TDS.env.dateFormat);var a=new Date();a.setTime(Ext.TimerMgr.getServerCalculatedTime());var b=Math.floor((a.getTime()-c.getTime())/(365.25*24*60*60*1000));return b?b:""};TDS.util.Format.displayResourceName=function(b,c){if(!c){c="name"}var a=TDS.data.findRecordBy(TDS.data.getStoreNameByResourceDataURI(b),"dataURI",b);if(a!=-1){return a.get(c)}return b};TDS.util.Format.displayResourceConciseName=function(b,c){if(!c){c="name"}var a=TDS.data.findRecordBy(TDS.data.getStoreNameByResourceDataURI(b),"dataURI",b,true);if(a!=-1){return a.get(c)}return b};TDS.util.Format.displayResourceNameRenderer=function(a){return function(b){return TDS.util.Format.displayResourceName(b,a)}};TDS.util.Format.displayResourceConciseNameRenderer=function(a){return function(b){return TDS.util.Format.displayResourceConciseName(b,a)}};TDS.util.Format.componentTypeIcon=function(c,e,a,f,d,b){if(c.toLowerCase()===TDS.data.componentType.TYPE_ACCOMMODATION.toLowerCase()){e.css="x-tds-cell-component-accommodation"}else{e.css="x-tds-cell-component-generic"}};TDS.util.Format.availabilityInventory=function(a){if(a==-2){return"Guaranteed"}if(a<0){return"Freesale"}return a};TDS.util.Format.availabilityQueue=function(a){if(a<0){return"Unlimited"}return a};TDS.util.Format.availabilityWaiting=function(a){if(a<0){return"Unlimited"}return a};TDS.util.Format.gender=function(a){if(a){if(a=="M"){return"Male"}else{if(a=="F"){return"Female"}}}return a};TDS.util.Format.dateFormatNew=function(d){var b=new Date(d),c=("0"+(b.getMonth()+1)).slice(-2),a=("0"+b.getDate()).slice(-2);return[b.getFullYear(),c,a].join("-")};