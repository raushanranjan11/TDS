Ext.form.TimerLabel=Ext.extend(Ext.form.Label,{initComponent:function(){Ext.form.TimerLabel.superclass.initComponent.apply(this);this.addEvents("timerrefresh","timerexpire");this.initTimer()},initTimer:function(a){if(this.timer){this.timer.un("refresh",this.doRefresh,this);this.timer.un("expired",this.doExpire,this)}if(a){a.on("refresh",this.doRefresh,this);a.on("expired",this.doExpire,this)}this.timer=a},doExpire:function(a){if(this.hasListener("timerexpire")){this.fireEvent("timerexpire",a)}else{this.setText("Timer expired.")}},doRefresh:function(a,b){if(this.hasListener("timerrefresh")){this.fireEvent("timerrefresh",a,b)}else{this.setText(b)}},setTimer:function(a){this.initTimer(a);a.interval=10},cancelTimer:function(){if(this.timer){this.timer.interval=1000;this.timer.un("refresh",this.doRefresh,this);this.timer.un("expired",this.doExpire,this);delete this.timer}},onDestroy:function(){Ext.form.TimerLabel.superclass.onDestroy.apply(this);if(this.timer){this.timer.interval=1000;this.timer.un("refresh",this.doRefresh,this);this.timer.un("expired",this.doExpire,this);delete this.timer}}});Ext.reg("timerlabel",Ext.form.TimerLabel);