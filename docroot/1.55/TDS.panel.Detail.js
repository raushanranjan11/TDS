Ext.ns("TDS.panel");TDS.panel.Detail=Ext.extend(Ext.Panel,{border:false,layout:"column",initComponent:function(){Ext.apply(this,{interfaces:new Ext.util.MixedCollection(),items:[{width:144,cls:"x-toolbar",height:this.initialConfig.height,bodyStyle:"padding: 4px; background-color: #d0def0",defaults:{xtype:"button",minWidth:130,style:"margin-bottom: 4px;"}},{columnWidth:1,border:false,activeItem:0,height:this.initialConfig.height,bodyStyle:"padding-left: 8px;",layout:"card"}]});TDS.panel.Detail.superclass.initComponent.apply(this,arguments)},onRender:function(){TDS.panel.Detail.superclass.onRender.apply(this,arguments);var b=this.mbar;var c=Ext.id("","mbar");if(b){for(var a=0;a<b.length;a++){this.getMenuToolbar().add({toggleGroup:c,mbarId:b[a].id,text:b[a].text,pressed:b[a].selected});if(b[a].selected){this.selected=b[a].id}this.interfaces.add(b[a].id,{interfaceURI:b[a].interfaceURI,index:false})}}this.getDisplayPanel().on("add",this.onInterfaceAdd,this);this.initButtons()},afterRender:function(){this.initInterface(this.selected);TDS.panel.Detail.superclass.afterRender.apply(this,arguments)},getMenuToolbar:function(){return this.items.itemAt(0)},getDisplayPanel:function(){return this.items.itemAt(1)},initButtons:function(){this.getMenuToolbar().items.each(function(a){a.on("click",this.onButtonClick,this)},this)},onButtonClick:function(a,b){this.displayInterface(a.mbarId)},onInterfaceAdd:function(b,d,a){var c=this.interfaces.get(d.name);if(typeof c!="undefined"){c.index=a}},displayInterface:function(c){var b=this.interfaces.get(c);if(typeof b.index=="number"){var a=this.getDisplayPanel().getComponent(b.index);this.getDisplayPanel().getLayout().setActiveItem(a.id);this.getDisplayPanel().doLayout()}else{var a=this.getDisplayPanel().add({xtype:"ajaxpanel",name:c,layout:"fit",border:false,autoLoadPanel:false,interfaceURI:b.interfaceURI});this.getDisplayPanel().getLayout().setActiveItem(a.id);this.getDisplayPanel().doLayout();a.initLoad()}},initInterface:function(c){var b=this.interfaces.get(c);var a=this.getDisplayPanel().add({xtype:"ajaxpanel",name:c,layout:"fit",border:false,autoLoadPanel:true,interfaceURI:b.interfaceURI})}});Ext.reg("detailpanel",TDS.panel.Detail);