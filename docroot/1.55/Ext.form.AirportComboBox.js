Ext.form.AirportComboBox=Ext.extend(Ext.form.AwesomeComboBox,{emptyText:"Type an airport name...",searchURI:TDS.env.dataPath+"airports/collection",searchIdentifier:"airports",showFullName:false,initComponent:function(){if(!this.store){this.store=new Ext.data.CollectionStore({url:"",id:"dataURI",fields:["dataURI","code","name"]});this.valueField="dataURI";if(this.showFullName){this.displayField="name"}else{this.displayField="code"}}if(!this.tpl){this.tpl='<tpl for="."><div class="x-combo-list-item">{name} [{code}]</div></tpl>'}Ext.form.AirportComboBox.superclass.initComponent.call(this)},onBeforeQuery:function(qe){var store=this.getStore();with(store){baseParams.includeIataCode=true;proxy.conn.url=this.searchURI;reader.meta.identifier=this.searchIdentifier+"?includeIataCode=true&"+this.queryParam+"="+qe.query;proxy.conn.method="GET"}}});Ext.reg("airportcombo",Ext.form.AirportComboBox);