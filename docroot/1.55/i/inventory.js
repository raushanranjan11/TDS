{xtype:"panel",layout:"fit",border:false,getDataURI:function(){return this.ownerCt.dataURI},getSessionURI:function(){return this.ownerCt.sessionURI},getSessionValue:function(a){return this.ownerCt.sessionObj[a]},sessionDefaults:{option:"accommodation",cardIndex:2},items:[{xtype:"panel",layout:"card",activeItem:0,border:false,hideBorders:true,hideToggleGroup:function(a){this.getTopToolbar().items.each(function(b){if(b.ourToggleGroup==a){b.hide()}},this)},showToggleGroup:function(a){this.getTopToolbar().items.each(function(b){if(b.ourToggleGroup==a){if(b.pressed){b.handler()}b.show()}},this)},showInterface:function(a,b){if(!a.pressed){a.toggle(true);return}this.getTopToolbar().items.each(function(e){if(e.ourToggleGroup==a.ourToggleGroup){if(e.pressed&&(e.id!=a.id)){e.toggle(false)}}},this);var d=this.items.itemAt(b);d.sessionURI=this.ownerCt.getSessionURI()+"/"+a.value;this.displayCardByIndex(b);var c=this.ownerCt.getSessionURI();TDS.session.setByPath(c,{option:a.value,cardIndex:b})},displayCardByIndex:function(b){this.getLayout().setActiveItem(b);var a=this.getLayout().activeItem;if(!TDS.env.user.hasGroupPermission(a.groupPermission)){return false}a.baseDataURI=this.ownerCt.getDataURI();if(!a.isReady()){a.initLoad()}return a},defaults:{layout:"fit",border:false,autoLoadPanel:false},listeners:{render:function(){var a=this.ownerCt.sessionDefaults;var e={};e.option=this.ownerCt.getSessionValue("option");e.cardIndex=this.ownerCt.getSessionValue("cardIndex");var b=e.option?e.option:a.option;var c=e.cardIndex?e.cardIndex:a.cardIndex;this.getTopToolbar().items.each(function(f){if(f.value==b){f.toggle(true)}else{f.toggle(false)}},this);this.activeItem=c;var d=this.items.itemAt(this.activeItem);if(!TDS.env.user.hasGroupPermission(d.groupPermission)){return false}d.baseDataURI=this.ownerCt.getDataURI();d.sessionURI=this.ownerCt.getSessionURI()+"/"+b;d.autoLoadPanel=true}},tbar:[{xtype:"button",text:"Tours",value:"tours",enableToggle:true,groupPermission:"INVENTORY_MANAGEMENT_TOUR",handler:function(){this.ownerCt.ownerCt.showInterface(this,1)},listeners:{render:function(){if(!TDS.env.user.hasGroupPermission(this.groupPermission)){this.hide()}}}},{xtype:"button",text:"Accommodation",value:"accommodation",enableToggle:true,groupPermission:"INVENTORY_MANAGEMENT_ACCOM",handler:function(){this.ownerCt.ownerCt.showInterface(this,2)},listeners:{render:function(){if(!TDS.env.user.hasGroupPermission(this.groupPermission)){this.hide()}}}},{xtype:"button",text:"Air",value:"air",enableToggle:true,groupPermission:"INVENTORY_MANAGEMENT_FLIGHT",handler:function(){this.ownerCt.ownerCt.showInterface(this,3)},listeners:{render:function(){if(!TDS.env.user.hasGroupPermission(this.groupPermission)){this.hide()}}}},{xtype:"button",text:"Cruise",value:"cruise",enableToggle:true,groupPermission:"INVENTORY_MANAGEMENT_CRUISE",handler:function(){this.ownerCt.ownerCt.showInterface(this,4)},listeners:{render:function(){if(!TDS.env.user.hasGroupPermission(this.groupPermission)){this.hide()}}}},{xtype:"button",text:"Rail",value:"rail",enableToggle:true,groupPermission:"INVENTORY_MANAGEMENT_RAIL",handler:function(){this.ownerCt.ownerCt.showInterface(this,5)},listeners:{render:function(){if(!TDS.env.user.hasGroupPermission(this.groupPermission)){this.hide()}}}},{xtype:"button",text:"Railpass",value:"railPass",enableToggle:true,groupPermission:"INVENTORY_MANAGEMENT_RAILPASS",handler:function(){this.ownerCt.ownerCt.showInterface(this,6)},listeners:{render:function(){if(!TDS.env.user.hasGroupPermission(this.groupPermission)){this.hide()}}}},{xtype:"button",text:"Car Rental",value:"carRental",enableToggle:true,groupPermission:"INVENTORY_MANAGEMENT_CAR",handler:function(){this.ownerCt.ownerCt.showInterface(this,7)},listeners:{render:function(){if(!TDS.env.user.hasGroupPermission(this.groupPermission)){this.hide()}}}},{xtype:"button",text:"Services",value:"attractions",enableToggle:true,groupPermission:"INVENTORY_MANAGEMENT_ATTRACTION",handler:function(){this.ownerCt.ownerCt.showInterface(this,9)},listeners:{render:function(){if(!TDS.env.user.hasGroupPermission(this.groupPermission)){this.hide()}}}},{xtype:"button",text:"Transfers",value:"transfers",enableToggle:true,groupPermission:"INVENTORY_MANAGEMENT_TRANSFER",handler:function(){this.ownerCt.ownerCt.showInterface(this,10)},listeners:{render:function(){if(!TDS.env.user.hasGroupPermission(this.groupPermission)){this.hide()}}}},{xtype:"button",text:"Hostel",value:"hostel",enableToggle:true,groupPermission:"INVENTORY_MANAGEMENT_HOSTEL",handler:function(){this.ownerCt.ownerCt.showInterface(this,8)},listeners:{render:function(){if(!TDS.env.user.hasGroupPermission(this.groupPermission)){this.hide()}}}},{xtype:"button",text:"Day Tours",value:"sightseeing",enableToggle:true,groupPermission:"INVENTORY_MANAGEMENT_SIGHTSEEING",handler:function(){this.ownerCt.ownerCt.showInterface(this,11)},listeners:{render:function(){if(!TDS.env.user.hasGroupPermission(this.groupPermission)){this.hide()}}}}],items:[{},{groupPermission:"INVENTORY_MANAGEMENT_TOUR",xtype:"ajaxpanel",interfaceURI:"tour/offering.js"},{groupPermission:"INVENTORY_MANAGEMENT_ACCOM",xtype:"ajaxpanel",interfaceURI:"accommodation/offering.js"},{groupPermission:"INVENTORY_MANAGEMENT_FLIGHT",xtype:"ajaxpanel",interfaceURI:"air/offering.js"},{groupPermission:"INVENTORY_MANAGEMENT_CRUISE",xtype:"ajaxpanel",interfaceURI:"cruise/offering.js"},{groupPermission:"INVENTORY_MANAGEMENT_RAIL",xtype:"ajaxpanel",interfaceURI:"rail/offering.js"},{groupPermission:"INVENTORY_MANAGEMENT_RAILPASS",xtype:"ajaxpanel",interfaceURI:"railPass/offering.js"},{groupPermission:"INVENTORY_MANAGEMENT_CAR",xtype:"ajaxpanel",interfaceURI:"car/offering.js"},{groupPermission:"INVENTORY_MANAGEMENT_HOSTEL",xtype:"ajaxpanel",interfaceURI:"hostel/offering.js"},{groupPermission:"INVENTORY_MANAGEMENT_ATTRACTION",xtype:"ajaxpanel",interfaceURI:"attraction/offering.js"},{groupPermission:"INVENTORY_MANAGEMENT_TRANSFER",xtype:"ajaxpanel",interfaceURI:"transfer/offering.js"},{groupPermission:"INVENTORY_MANAGEMENT_SIGHTSEEING",xtype:"ajaxpanel",interfaceURI:"sightseeing/offering.js"}]}]}