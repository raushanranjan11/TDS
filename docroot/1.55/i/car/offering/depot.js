{xtype:"panel",border:false,height:300,layout:"fit",getGrid:function(){return this.items.itemAt(0).items.itemAt(0)},beforeSubmit:function(a){return this.getGrid().getData()},items:[{xtype:"fieldset",layout:"fit",items:{xtype:"grid",viewConfig:{forceFit:true},getData:function(){var b=this.selModel.getSelections();var c=[];for(var a=0;a<b.length;a++){c[a]=b[a].get("dataURI")}return c},sm:new Ext.grid.CheckboxSelectionModel(),columns:[new Ext.grid.CheckboxSelectionModel(),{header:"Depot",dataIndex:"name"},{header:"Address",dataIndex:"addressString"}],listeners:{beforerender:function(){var a=this.ownerCt.findParentByType("awesomewindow");var b=a.getParam("supplierURI");this.store=new Ext.data.CollectionStore({autoLoad:true,identifier:b+"/depots",url:TDS.env.dataPath+b+"/depots/collection",fields:["dataURI","name","addressString"],listeners:{load:{fn:function(){this.destinationDataURI=TDS.env.dataPath+a.getConfigValue("destinationDataURI");this.getSelectedData()},scope:this}}})}}}}]}