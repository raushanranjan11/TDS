{xtype:"form",border:false,markDataDirtyOnLoad:true,beforeSubmit:function(c){var b=this.ownerCt;try{var d=this.getForm().findField("countryCode");if(d.getValue()==""){d.markInvalid("Please select a country.");return false}var a=this.getForm().findField("provinceURI");if(a.getValue()==""){a.markInvalid("Please select a province.");return false}b.setPostDataURI("country/"+d.getValue()+"/locations");return c}catch(f){alert("Error encountered");return false}},items:[{xtype:"tabpanel",activeTab:0,layoutOnTabChange:true,height:300,defaults:{bodyStyle:"padding: 6px 4px 6px 4px;"},items:[{title:"Location",items:[{xtype:"panel",layout:"form",border:false,labelWidth:80,style:"overflow:hidden;",defaults:{bodyStyle:"overflow:hidden;"},items:[{xtype:"textfield",name:"name",fieldLabel:"Name",bodyStyle:"padding: 2px 4px 2px 4px;",width:185},{xtype:"combo",name:"countryCode",fieldLabel:"Country",listeners:{select:function(c){var b=this.ownerCt;var a=b.items.itemAt(2);a.setValue("")}},emptyText:"Type a country...",excludeSubmit:true,minChars:1,enableKeyEvents:true,mode:"local",width:120,typeAhead:true,triggerAction:"all",forceSelection:true,selectOnFocus:true,displayField:"name",valueField:"isoCode",store:TDS.data.getStore({dataURI:TDS.env.dataPath+"countries/collection",identifier:"countries",fields:["name","isoCode"]})},{xtype:"awesomecombo",name:"provinceURI",fieldLabel:"Province",listeners:{beforesearch:function(c){var b=this.ownerCt;var a=b.items.itemAt(1);if(a.getValue()==""){a.markInvalid("Please select a country.");return false}c.searchURI=TDS.env.dataPath+"country/"+a.getValue()+"/provinces/collection";c.searchIdentifier="country/"+a.getValue()+"/provinces"}}},{xtype:"textfield",name:"latitude",fieldLabel:"Latitude",bodyStyle:"padding: 2px 4px 2px 4px;",width:80},{xtype:"textfield",name:"longitude",fieldLabel:"Longitude",bodyStyle:"padding: 2px 4px 2px 4px;",style:"overflow:auto;",width:80},{xtype:"checkbox",name:"active",fieldLabel:"Active",border:true,width:180},{xtype:"checkbox",name:"bold",fieldLabel:"Bold",border:true,width:180}]}]}]}]}