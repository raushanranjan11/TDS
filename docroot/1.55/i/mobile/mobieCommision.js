{xtype:"panel",layout:"fit",border:false,width:1200,height:400,bodyStyle:"padding: 8px;overflowY: auto;overflowX:hidden",style:{overflowX:"hidden"},forceFit:true,getDataURI:function(){return this.getAgencyDataURI()},getAgencyDataURI:function(){if(TDS.env.user.isAgencyUser()){return TDS.env.user.getAgencyURI()}},items:{xtype:"editableGrid",autoSubmit:true,alwaysUseCollection:true,callBeforeSearch:false,enableRowExpander:false,iconCls:"icon-grid",clicksToEdit:1,store:new Ext.data.JsonStore({url:"",identifier:"",id:"",pruneModifiedRecords:true,fields:["agencyURI","supplierName","componentType","component","deptDate","leadPax","noOfPax","PNRCode","curr","grossPaid","datePaid","markup"]}),sm:new Ext.grid.RowSelectionModel(),cm:new Ext.grid.ColumnModel([{header:"Suppliers",dataIndex:"supplierName",sortable:true},{header:"Component Type",dataIndex:"componentType"},{header:"Component ",dataIndex:"componentName"},{header:"Dep Date ",dataIndex:"deptDate",width:100,fixed:true},{header:"Lead Pax",dataIndex:"leadPax",width:100,fixed:true},{header:"No of Pax",dataIndex:"noOfPax",width:50,fixed:true},{header:"PNR",dataIndex:"PNRCode",width:80,fixed:true},{header:"Curr",dataIndex:"currency",width:50,fixed:true},{header:"Gross Paid",dataIndex:"grossPaid",width:100,fixed:true,renderer:function(c,b,a){return a.get("grossPaid").toFixed(2)}},{header:"Date Paid",dataIndex:"datePaid",renderer:TDS.util.Format.dateSpecialRenderer(TDS.env.dateFormatDisplay)},{header:"Markup",dataIndex:"markup",width:70,fixed:true,renderer:function(c,b,a){return a.get("markup").toFixed(2)}}]),viewConfig:{forceFit:true},listeners:{sessioninit:function(){;var a=this.findParentByType("awesomewindow");console.log(a.aw.data);var c=a.aw.data.agencyURI;var b=a.aw.data.pnr},beforerender:function(){var a=this.findParentByType("awesomewindow");var c=a.aw.data.agencyURI;var b=a.aw.data.pnr;console.log(c);this.store=new Ext.data.CollectionStore({autoLoad:true,url:TDS.env.dataPath+c+"/pnr/"+b+"/collection",identifier:"agency",id:"agency",fields:["agencyURI","pinned","supplierName","componentType","componentName","deptDate","leadPax","noOfPax","PNRCode","currency","grossPaid","datePaid","markup"]});this.store.on("load",this.setDelayValue,this)},render:function(){},rowdblclick:function(a,c,b){}}}}