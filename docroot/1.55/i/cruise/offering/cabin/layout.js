{xtype:"panel",layout:"table",border:false,height:120,layoutConfig:{columns:2},items:[{xtype:"fieldset",height:120,width:800,border:false,autoScroll:true,columnWidth:1,defaults:{bodyStyle:"padding: 5px;"},shared:{details:{}},setDetail:function(b,c){if(typeof b=="object"){for(var a in b){this.shared.details[a]=b[a]}}else{this.shared.details[b]=c}},getDetail:function(a){return this.shared.details[a]},shared:{stores:{rates:new Ext.data.JsonStore({url:"",id:"dataURI",fields:["cabinTypeText","deck","maximumOccupancy","dataURI","pinned","cabinNumber","position","capacity","connect","obstruct","berths","rollaway","crib","dataURI","cabinStatus","portBoard","locations","cruiseShipCategoryURI"]})},details:{}},items:[{items:[{xtype:"panel",style:"padding-left: 10px;",border:false,layout:"table",layoutConfig:{columns:3},defaults:{border:false},id:"ddk",shared:{stores:{rates:new Ext.data.JsonStore({url:"",id:"dataURI",fields:["cabinTypeText","deck","maximumOccupancy","dataURI","pinned","cabinNumber","position","capacity","connect","obstruct","berths","rollaway","crib","dataURI","cabinStatus","portBoard","locations","cruiseShipCategoryURI"]})},details:{}},setDetail:function(b,c){if(typeof b=="object"){for(var a in b){this.shared.details[a]=b[a]}}else{this.shared.details[b]=c}},getDetail:function(a){return this.shared.details[a]},items:[{xtype:"checkbox",name:"disableCabin",labelSeparator:"",boxLabel:"Disabled Cabin",inputValue:false,width:200},{xtype:"panel",style:"padding-left: 10px;",border:false,layout:"table",layoutConfig:{columns:3},defaults:{border:false},items:[{xtype:"checkbox",name:"connect",labelSeparator:"",boxLabel:"Connect",inputValue:true,width:100,listeners:{}},{xtype:"textfield",name:"connect",disabled:true,width:100}]},{xtype:"panel",style:"padding-left: 10px;",border:false,layout:"table",layoutConfig:{columns:3},defaults:{border:false},items:[{xtype:"checkbox",name:"obstructCheck",labelSeparator:"",boxLabel:"Obstruct",inputValue:true,width:100,listeners:{}},{xtype:"textfield",name:"obstruct",disabled:true,width:100}]},{xtype:"panel",border:false,layout:"table",layoutConfig:{columns:3},defaults:{border:false},items:[{xtype:"checkbox",name:"berthsCheck",labelSeparator:"",boxLabel:"Berths",inputValue:true,width:100,listeners:{check:function(){if(this.getValue()){this.ownerCt.items.itemAt(1).enable(true)}else{this.ownerCt.items.itemAt(1).setValue("");this.ownerCt.items.itemAt(1).disable(true)}}}},{xtype:"textfield",name:"berths",disabled:true,width:100,listeners:{render:function(){}}}]},{xtype:"panel",style:"padding: 10px;",border:false,layout:"table",layoutConfig:{columns:3},defaults:{border:false},items:[{xtype:"checkbox",name:"rollawayCheck",labelSeparator:"",boxLabel:"Rollaway",inputValue:true,width:100,listeners:{check:function(){}}},{name:"rollaway",style:"padding: 0px 3px 2px 0px;",xtype:"omnicrementer",width:60,listeners:{render:function(){var a=this.findParentByType("fieldset").ownerCt.ownerCt.rowRecordData.rollaway;this.setValue(a);if(!Ext.isEmpty(a)){this.ownerCt.items.itemAt(0).setValue(true)}}}}]},{xtype:"panel",style:"padding: 10px;",border:false,layout:"table",layoutConfig:{columns:3},defaults:{border:false},items:[{xtype:"checkbox",name:"cribCheck",labelSeparator:"",boxLabel:"Crib",inputValue:true,width:100,listeners:{check:function(){}}},{name:"crib",style:"padding: 0px 3px 2px 0px;",xtype:"omnicrementer",width:60,listeners:{render:function(){var a=this.findParentByType("fieldset").ownerCt.ownerCt.rowRecordData.crib;this.setValue(a);if(!Ext.isEmpty(a)){this.ownerCt.items.itemAt(0).setValue(true)}}}}]},{xtype:"panel",border:false,layout:"table",layoutConfig:{columns:3},defaults:{border:false},items:[{xtype:"radio",name:"smoking",labelSeparator:"",width:90,boxLabel:"Non Smoking"},{xtype:"radio",name:"smoking",labelSeparator:"",boxLabel:" Smoking",style:"padding-left: 10px;padding-right: 10px;"}]}]}]}]},{xtype:"panel",autoHeight:true,border:false,bodyStyle:"padding: 4px;",defaults:{minWidth:60},items:[{xtype:"button",text:"Edit",handler:function(){var d=this.ownerCt.ownerCt;var b=this.ownerCt.findParentByType("ajaxpanel");var c=b.rowRecordData.cruiseShipCategoryURI;var a=b.rowRecordData.dataURI;if(!a){return}TDS.window.setWindow({title:"Update Cabins per Category",interfaceURI:"cruise/offering/cabin/edit.js",sourceDataURI:a,destinationDataURI:a,buttonOK:"Submit",callback:{fn:function(e){if(e){var f=this.ownerCt.findParentByType("awesomegrid");f.submitQuery(true)}},scope:this}})}}]}],listeners:{render:function(){var b=this.items.itemAt(0).items.itemAt(0).items.itemAt(0);var a=this.ownerCt.rowRecordData;b.items.itemAt(1).items.itemAt(1).setValue(a.connect);b.items.itemAt(2).items.itemAt(1).setValue(a.obstruct);b.items.itemAt(3).items.itemAt(1).setValue(a.berths);if(a.connect){b.items.itemAt(1).items.itemAt(0).setValue(true)}if(a.obstruct){b.items.itemAt(2).items.itemAt(0).setValue(true)}if(a.berths){b.items.itemAt(3).items.itemAt(0).setValue(true)}if(a.smoking){b.items.itemAt(6).items.itemAt(1).setValue(true)}else{b.items.itemAt(6).items.itemAt(0).setValue(true)}}}}