{xtype:"tabpanel",activeTab:0,height:360,defaults:{bodyStyle:"padding: 6px 4px 6px 4px;"},items:[{title:"Links",layout:"fit",items:{xtype:"editorgrid",loadMask:{msg:""},height:240,viewConfig:{forceFit:true},store:new Ext.data.JsonStore({url:"",pruneModifiedRecords:true,fields:["dataURI","href","description"]}),getData:function(){var c=this.getStore().getModifiedRecords();for(var b=0,e=[];b<c.length;b++){var a=c[b].get("dataURI");e.push({method:a?"PUT":"POST",destinationDataURI:a?TDS.env.dataPath+a:this.baseDataURI,data:{href:c[b].get("href"),description:c[b].get("description")}})}return{data:e}},sm:new Ext.grid.RowSelectionModel({singleSelect:true}),cm:new Ext.grid.ColumnModel([{header:"URL",dataIndex:"href",editor:new Ext.form.TextField({allowBlank:false})},{header:"Description",dataIndex:"description",editor:new Ext.form.TextField({allowBlank:false})}]),bbar:[{xtype:"button",text:"Add",tooltip:"Click here to add a new link",handler:function(){var b=this.ownerCt.ownerCt;var a=b.getStore();a.add([new a.recordType({href:"",description:""})]);b.startEditing(a.getCount()-1,0)}},{xtype:"button",text:"Remove",tooltip:"Select a link and click here to remove",handler:function(){var b=this.ownerCt.ownerCt;b.loadMask.show();var a=b.selModel.getSelected();if(a.get("dataURI")){Ext.Ajax.request({method:"DELETE",url:TDS.env.dataPath+a.get("dataURI"),callback:function(e,c,d){b.loadMask.hide();if(c){b.store.remove(a);return}}})}else{b.loadMask.hide();b.store.remove(a)}}}],removeLink:function(){},listeners:{render:function(){var b=this.ownerCt.findParentByType("awesomewindow");if(b){b.registerItem(this.id);this.baseDataURI=TDS.env.dataPath+b.aw.baseDataURI;var g=this.getStore().recordType;var d=b.aw.data[b.aw.baseDataURI];var c=[];for(var e=0;e<d.length;e++){var a=d[e];var f=b.aw.data[a];f.dataURI=a;c[e]=new g(f)}this.getStore().add(c)}}}}}]}