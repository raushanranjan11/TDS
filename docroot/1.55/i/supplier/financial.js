{xtype:"form",border:false,items:[{xtype:"tabpanel",activeTab:0,layoutOnTabChange:true,height:320,defaults:{bodyStyle:"padding: 6px 4px 6px 4px;"},items:[{title:"Bank Deposit Details",items:[{xtype:"panel",layout:"form",border:false,labelWidth:140,defaults:{},items:[{xtype:"textfield",name:"financialContactName",fieldLabel:"Contact name",bodyStyle:"padding: 2px 4px 2px 4px;",width:185},{xtype:"textfield",name:"financialContactPhoneNumber",fieldLabel:"Contact phone number",bodyStyle:"padding: 2px 4px 2px 4px;",width:185},{xtype:"textfield",name:"financialInstitution",fieldLabel:"Bank name",bodyStyle:"padding: 2px 4px 2px 4px;",width:185},{xtype:"textfield",name:"financialAccountName",fieldLabel:"Account name",bodyStyle:"padding: 2px 4px 2px 4px;",width:185},{xtype:"textfield",name:"financialAccountBSB",fieldLabel:"BSB",bodyStyle:"padding: 2px 4px 2px 4px;",width:60},{xtype:"textfield",name:"financialAccountIBAN",fieldLabel:"IBAN",bodyStyle:"padding: 2px 4px 2px 4px;",width:60},{xtype:"textfield",name:"financialAccountNumber",fieldLabel:"Account number",bodyStyle:"padding: 2px 4px 2px 4px;",width:185},{xtype:"textfield",name:"financialSwiftCode",fieldLabel:"SWIFT code",bodyStyle:"padding: 2px 4px 2px 4px;",width:80},{xtype:"combo",name:"financialCountryURI",fieldLabel:"Country",bodyStyle:"padding: 0px 0px 0px 0px;",emptyText:"Type a country...",excludeFromSession:true,minChars:1,enableKeyEvents:true,mode:"local",width:185,typeAhead:true,triggerAction:"all",forceSelection:true,selectOnFocus:true,displayField:"name",valueField:"dataURI",store:TDS.data.getStore({dataURI:TDS.env.dataPath+"countries/collection",identifier:"countries",fields:["dataURI","name","isoCode"]})},{xtype:"checkbox",name:"creditCardPaymentAllowed",fieldLabel:"Credit Cards Accepted"},{xtype:"textfield",name:"financialBitcoinAddress",fieldLabel:"BITCOIN Address",width:185}]}]},{title:"Credit Card Types",items:{xtype:"editorgrid",height:240,store:TDS.data.getCCStore({dataURI:TDS.env.dataPath+"supplier/creditCards/collection",identifier:"supplier/creditCards",fields:["name","displayName","dataURI","creditCardCharges"]}),viewConfig:{forceFit:true},getData:function(){var b=this.selModel.getSelections();var c=[];for(var a=0;a<b.length;a++){c[a]={creditCardDataURI:b[a].get("dataURI"),creditCardCharges:b[a].get("creditCardCharges")}}return{destinationDataURI:this.destinationDataURI,data:c}},sm:new Ext.grid.CheckboxSelectionModel(),columns:[new Ext.grid.CheckboxSelectionModel(),{header:"Card Type",dataIndex:"displayName",width:100},{header:"Charges (%)",dataIndex:"creditCardCharges",width:100,editor:new Ext.form.TextField({allowBlank:false})}],listeners:{render:function(){var a=this.ownerCt.findParentByType("awesomewindow");a.registerItem(this.id);this.destinationDataURI=TDS.env.dataPath+a.aw.sourceDataURI+"/creditCards";this.getSelectedData()}}}}]}]}