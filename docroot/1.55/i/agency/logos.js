{xtype:"form",border:false,height:410,layout:"fit",id:"logo",width:520,beforeSubmit:function(b){if(!this.ownerCt.initialConfig.isGroupAdmin){}return b},items:[{xtype:"tabpanel",activeTab:0,layoutOnTabChange:true,defaults:{bodyStyle:"padding: 6px 4px 6px 4px;"},listeners:{render:function(){if(!TDS.env.user.hasGroupPermission("ADMINISTRATION")){this.hideTabStripItem(2)}}},items:[{title:"Top Logo",xtype:"panel",id:"vinay",layout:"form",alias:"widget.fileuploadform",border:false,autoScroll:true,width:100,hideBorders:true,items:[{xtype:"textfield",id:"graphicImgPath",hidden:true,name:"graphicImgPath"},{html:"Image size maximum of 220 x 140 pixels.",style:"padding: 5px 0px 5px 0px;"},{html:"",style:"margin-left: 10px; "},{html:'<form action="fileUpload" enctype="multipart/form-data" method="post"><td width= "300"><input width= "300" name="fileUpLoad" id="fileUpLoad"type="file"  /></td></form>',width:300},{html:"",style:"margin-left: 10px; "},{xtype:"button",text:"Delete",style:"padding: 6px 0px 0px 245px;",handler:function(i){document.images.image1.src="";Ext.getCmp("imagePanel").html='<img border="0" id="imageId" name="image1" src="" ><input type="hidden" id ="imgName"  name="imgName" value="">';var j=this.ownerCt.findParentByType("awesomewindow");var g=j.aw.sourceDataURI;var f=document.getElementById("imgName").value;if(f){var h={};if(f){h.removefile=f}if(f){h.imageStorePath=g}h.imageName=Ext.getCmp("graphicImgPath").getValue();Ext.Ajax.request({url:TDS.env.dataPath+"fileUpload",method:"POST",params:h,callback:function(a,c,b){if(c){Ext.Msg.alert("","Deleted succussefully.");document.images.image1.src="";document.getElementById("imgName").value="";document.getElementById("fileUpLoad").value="";var d={deletePath:true,imagePath:document.getElementById("imgName").value};Ext.Ajax.request({url:TDS.env.dataPath+g+"/graphicImage",method:"POST",jsonData:d,scope:this})}else{Ext.Msg.alert("","Error coocured..")}}})}}},{xtype:"button",text:"Upload",style:"padding: 6px 0px 0px 245px;",handler:function(u){Ext.getCmp("imagePanel").html='<img border="0" id="imageId" name="image1" src="" ><input type="hidden" id ="imgName"  name="imgName" value="">';var n=this.ownerCt.findParentByType("awesomewindow");var v=n.aw.sourceDataURI;var o=document.getElementById("fileUpLoad").value;var s=document.getElementById("fileUpLoad").files[0];if(s){var r=0;m()}function m(){var c=document.getElementById("fileUpLoad").files[0].size;var d=(c/(1024)).toFixed(2);var b=new FormData();b.append("image",s);var a=new XMLHttpRequest();a.upload.addEventListener("progress",q,false);a.addEventListener("load",p,false);a.addEventListener("error",t,false);a.addEventListener("abort",l,false);a.open("POST",TDS.env.dataPath+"fileUpload?&imageName="+Ext.getCmp("graphicImgPath").getValue()+"&imageStorePath="+v);a.send(b);a.onreadystatechange=function(){if(a.readyState==4){var f=a.getAllResponseHeaders();var e=a.responseText;var g=v;var h="GraphicsImg/"+e;document.getElementById("imgName").value=h;var i={deletePath:false,imagePath:document.getElementById("imgName").value};Ext.Ajax.request({url:TDS.env.dataPath+v+"/graphicImage",method:"POST",jsonData:i,callback:function(j,y,k){if(y){Ext.Msg.alert("","Graphics Uploaded successfully..");var x=Ext.util.JSON.decode(k.responseText);Ext.getCmp("graphicImgPath").setValue(x.graphicImgPath);document.images.image1.src="../"+x.graphicImgPath;document.getElementById("imgName").value=x.graphicImgPath}else{Ext.Msg.alert("","Error coocured..")}},scope:this})}}}function q(a){}function p(a){}function t(a){Ext.Msg.alert("","There was an error attempting to upload the file.")}function l(a){Ext.Msg.alert("","The upload has been canceled by the user or the browser dropped the connection.")}}},{html:"vinay",id:"imagePanel",border:false,height:"auto",width:"auto",listeners:{render:function(){var e="";var g=this.ownerCt.ownerCt.findParentByType("awesomewindow");var h=g.aw.data.graphicImgPath;if(typeof h=="undefined"){h=""}var f=h.substring(0,4);if(f=="http"){this.html='<img border="0" height ="190px" width="360px" id="imageId" name="image1" src='+h+' ><input type="hidden" id ="imgName"  name="imgName" value='+h+">"}else{e="../"+h;this.html='<img border="0"height ="190px" width="360px" id="imageId" name="image1" src='+e+' ><input type="hidden" id ="imgName"  name="imgName" value='+e+">"}}}}]},{title:"Bottom Logo",xtype:"panel",id:"vinays",layout:"form",alias:"widget.fileuploadform",border:false,autoScroll:true,width:100,hideBorders:true,items:[{xtype:"textfield",id:"graphicImgPaths",hidden:true,name:"graphicImgPaths"},{html:"Image size maximum of 360 x 190 pixels.",style:"padding: 5px 0px 5px 0px;"},{html:"",style:"margin-left: 10px; "},{html:'<form action="fileUpload" enctype="multipart/form-data" method="post"><td width= "300"><input width= "300" name="fileUpLoads" id="fileUpLoads" type="file"  /></td></form>',width:300},{html:"",style:"margin-left: 10px; "},{xtype:"button",text:"Delete",style:"padding: 6px 0px 0px 245px;",handler:function(i){document.images.image1s.src="";Ext.getCmp("imagePanel").html='<img border="0" id="imageIds" name="image1s" src="" ><input type="hidden" id ="imgNames"  name="imgNames" value="">';var j=this.ownerCt.findParentByType("awesomewindow");var g=j.aw.sourceDataURI;var f=document.getElementById("imgNames").value;if(f){var h={};if(f){h.removefile=f}if(f){h.imageStorePath=g}h.imageName=Ext.getCmp("graphicImgPaths").getValue();Ext.Ajax.request({url:TDS.env.dataPath+"fileUpload",method:"POST",params:h,callback:function(a,c,b){if(c){Ext.Msg.alert("","Deleted succussefully.");document.images.image1s.src="";document.getElementById("imgNames").value="";document.getElementById("fileUpLoad").value="";var d={deletePath:true,imagePaths:document.getElementById("imgNames").value};Ext.Ajax.request({url:TDS.env.dataPath+g+"/graphicImages",method:"POST",jsonData:d,scope:this})}else{Ext.Msg.alert("","Error coocured..")}}})}}},{xtype:"button",text:"Upload",style:"padding: 6px 0px 0px 245px;",handler:function(u){Ext.getCmp("imagePanels").html='<img border="0" id="imageIds" name="image1s" src="" ><input type="hidden" id ="imgNames"  name="imgNames" value="">';var n=this.ownerCt.findParentByType("awesomewindow");var v=n.aw.sourceDataURI;var o=document.getElementById("fileUpLoads").value;var s=document.getElementById("fileUpLoads").files[0];if(s){var r=0;m()}function m(){var b=new FormData();b.append("image",s);var a=new XMLHttpRequest();a.upload.addEventListener("progress",q,false);a.addEventListener("load",p,false);a.addEventListener("error",t,false);a.addEventListener("abort",l,false);a.open("POST",TDS.env.dataPath+"fileUpload?&imageName="+Ext.getCmp("graphicImgPaths").getValue()+"&imageStorePath="+v);a.send(b);a.onreadystatechange=function(){if(a.readyState==4){var d=a.getAllResponseHeaders();var c=a.responseText;var e=v;var f="GraphicsImg/"+c;document.getElementById("imgNames").value=f;var g={deletePath:false,imagePaths:document.getElementById("imgNames").value};Ext.Ajax.request({url:TDS.env.dataPath+v+"/graphicImages",method:"POST",jsonData:g,callback:function(h,k,i){if(k){Ext.Msg.alert("","Graphics Uploaded successfully..");var j=Ext.util.JSON.decode(i.responseText);Ext.getCmp("graphicImgPaths").setValue(j.graphicImgPaths);document.images.image1s.src="../"+j.graphicImgPaths;document.getElementById("imgNames").value=j.graphicImgPaths}else{Ext.Msg.alert("","Error coocured..")}},scope:this})}}}function q(a){}function p(a){}function t(a){Ext.Msg.alert("","There was an error attempting to upload the file.")}function l(a){Ext.Msg.alert("","The upload has been canceled by the user or the browser dropped the connection.")}}},{id:"imagePanels",border:false,height:"auto",width:"auto",listeners:{render:function(){var f="";var e=Ext.getCmp("graphicImgPaths").getValue();if(typeof graphicImagePath=="undefined"){graphicImagePath=""}var d=e.substring(0,4);if(d=="http"){this.html='<img border="0" height ="190px" width="360px" id="imageIds" name="image1s" src='+e+' ><input type="hidden" id ="imgNames"  name="imgNames" value='+e+">"}else{e="../"+e;this.html='<img border="0" height ="190px" width="360px" id="imageIds" name="image1s" src='+e+' ><input type="hidden" id ="imgNames"  name="imgNames" value='+e+">"}}}}]}],listeners:{beforerender:function(){if(this.ownerCt.ownerCt.initialConfig.isGroupAdmin){this.remove(this.items.itemAt(4),true)}}}}]}