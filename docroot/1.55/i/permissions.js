{xtype:"form",markDataDirtyOnLoad:true,getDataURI:function(){return this.ownerCt.baseDataURI},items:{xtype:"tabpanel",activeTab:0,layoutOnTabChange:true,height:360,defaults:{bodyStyle:"padding: 6px 4px 6px 4px;"},listeners:{render:function(){this.hideTabStripItem(1);this.hideTabStripItem(2);this.hideTabStripItem(3);this.hideTabStripItem(4)}},items:[{title:"Permissions",items:{xtype:"panel",border:false,items:[{xtype:"checkbox",name:"group/ADMINISTRATION",boxLabel:"Administration",forceSubmit:true,listeners:{check:function(a,b){var c=this.ownerCt.ownerCt.ownerCt;if(b){c.unhideTabStripItem(1)}else{c.hideTabStripItem(1)}}}},{xtype:"checkbox",name:"group/INVENTORY",boxLabel:"Inventory",forceSubmit:true,listeners:{check:function(a,b){var c=this.ownerCt.ownerCt.ownerCt;if(b){c.unhideTabStripItem(2)}else{c.hideTabStripItem(2)}}}},{xtype:"checkbox",name:"group/FULFILLMENT",boxLabel:"Fulfillment",forceSubmit:true,listeners:{check:function(a,b){var c=this.ownerCt.ownerCt.ownerCt;if(b){c.unhideTabStripItem(3)}else{c.hideTabStripItem(3)}}}},{xtype:"checkbox",name:"group/RESERVATION",boxLabel:"Reservation",forceSubmit:true,listeners:{check:function(a,b){var c=this.ownerCt.ownerCt.ownerCt;if(b){c.unhideTabStripItem(4)}else{c.hideTabStripItem(4)}}}}]}},{title:"Administration",items:{xtype:"panel",border:false,html:"<p>To be implemented.</p>"}},{title:"Inventory",items:{xtype:"panel",border:false,items:[{xtype:"treepanel",animate:false,rootVisible:false,height:200,loader:new Ext.tree.DynamicTreeLoader({requestMethod:"GET",dataUrl:""}),getData:function(){var a=[];this.modified.each(function(b){a.push(b)});return{data:a}},modified:new Ext.util.MixedCollection(),listeners:{checkchange:function(b,l){var n=b.parentNode;var g={};for(var f=0,e=n.childNodes.length;f<e;f++){var h=n.childNodes[f];g[h.attributes.baseDataURI]=h.attributes.checked}var k=this.loader.dataUrl+"/"+n.attributes.baseDataURI;if(n.attributes.isParent){k+="/parentGroups"}else{if(n.attributes.isChild){k+="/children"}}var a={destinationDataURI:k,data:g};if(this.modified.get(n.attributes.baseDataURI)!=="undefined"){this.modified.replace(n.attributes.baseDataURI,a)}else{this.modified.add(n.attributes.baseDataURI,a)}},render:function(){var a=this.ownerCt.findParentByType("awesomewindow");a.registerItem(this.id);this.loader.dataUrl=TDS.env.dataPath+a.getConfigValue("baseDataURI")}},root:{text:"Inventory",baseDataURI:"group/INVENTORY",isChild:true,leaf:false}}]}},{title:"Fulfilment",items:{xtype:"panel",border:false,html:"<p>To be implemented.</p>"}},{title:"Reservation",items:{xtype:"panel",border:false,html:"<p>To be implemented.</p>"}}]}}