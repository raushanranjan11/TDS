{xtype:"panel",header:true,autoHeight: true,border:false,pnrRecordData:{},requireStores:[{dataURI:TDS.env.dataPath+"accommodation/ratings/collection",identifier:"accommodation/ratings",fields:["name","dataURI"]},{dataURI:TDS.env.dataPath+"accommodation/propertyclasstypes/collection",identifier:"accommodation/propertyclasstypes",fields:["name","displayName","dataURI"]},{dataURI:TDS.env.dataPath+"rate/basises/collection",identifier:"rate/basises",fields:["name","dataURI"]}],refreshGrid:function(){var a=this.ownerCt.findParentByType("awesomegrid");a.submitQuery(true)},items:{xtype:"tabpanel",border:false,activeTab:0,layoutOnTabChange:true,height:300,inventoryData:{},passengersData:new Ext.util.MixedCollection(),getComponentDetail:function(a){if(a){return this.ownerCt.ownerCt.rowRecordData[a]}return this.ownerCt.ownerCt.rowRecordData},shared:{details:{}},setDetail:function(b,c){if(typeof b=="object"){for(var a in b){this.shared.details[a]=b[a]}}else{this.shared.details[b]=c}},setComponentDetail:function(a,b){this.ownerCt.ownerCt.rowRecordData[a]=b},getPNRDetail:function(a){if(a){return this.ownerCt.pnrRecordData[a]}return this.ownerCt.pnrRecordData},getInventoryDetail:function(a){if(a){return this.inventoryData[a]}return this.inventoryData},getPassengers:function(b){if(b){return this.passengersData.get(b)}else{var a=[];this.passengersData.each(function(c){a.push(c)});return a}},items:[{title:"Details",items:{xtype:"ajaxpanel",height:300,interfaceURI:"fulfillment/manualQuote/detail.js"}},{title:"Queues",items:{xtype:"ajaxpanel",height:300,interfaceURI:"fulfillment/generic/messages.js"}}]},initPnr:function(){var a=this.pnrRecordData.dataURI;Ext.Ajax.request({url:TDS.env.dataPath+a,method:"GET",callback:function(h,b,c){if(b){try{var g=Ext.decode(c.responseText)}catch(f){}Ext.apply(this.pnrRecordData,g)}this.el.unmask()},scope:this})},listeners:{render:function(){var b=this.ownerCt;var a=this.ownerCt.ownerCt;this.dataURI=b.rowRecordData.dataURI;this.setTitle(b.rowRecordData.name);this.pnrRecordData.dataURI=b.rowRecordData.dataURI.split("/",2).join("/");this.el.mask("","x-mask-loading");this.initPnr()}}}