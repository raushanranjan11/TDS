{xtype:"panel",header:true,height:180,border:false,pnrRecordData:{},refreshGrid:function(){var b=this.ownerCt.findParentByType("awesomegrid");b.submitQuery(true)},items:{xtype:"tabpanel",border:false,activeTab:0,layoutOnTabChange:true,height:180,inventoryData:{},passengersData:new Ext.util.MixedCollection(),getComponentDetail:function(b){if(b){return this.ownerCt.ownerCt.rowRecordData[b]}return this.ownerCt.ownerCt.rowRecordData},shared:{details:{}},setDetail:function(d,f){if(typeof d=="object"){for(var e in d){this.shared.details[e]=d[e]}}else{this.shared.details[d]=f}},setComponentDetail:function(d,c){this.ownerCt.ownerCt.rowRecordData[d]=c},getPNRDetail:function(b){if(b){return this.ownerCt.pnrRecordData[b]}return this.ownerCt.pnrRecordData},getInventoryDetail:function(b){if(b){return this.inventoryData[b]}return this.inventoryData},getPassengers:function(c){if(c){return this.passengersData.get(c)}else{var d=[];this.passengersData.each(function(a){d.push(a)});return d}},items:[{title:"Details",items:{xtype:"ajaxpanel",height:200,interfaceURI:"fulfillment/tour/detail.js"}},{title:"Extras",items:{xtype:"ajaxpanel",height:300,interfaceURI:"fulfillment/generic/extras.js"}},{title:"SSR",items:{xtype:"ajaxpanel",height:300,interfaceURI:"fulfillment/generic/ssr.js"}},{title:"Membership",items:{xtype:"ajaxpanel",height:300,interfaceURI:"fulfillment/generic/membership.js"}},{title:"Queues",items:{xtype:"ajaxpanel",height:300,interfaceURI:"fulfillment/generic/messages.js"}}]},initPnr:function(){var b=this.pnrRecordData.dataURI;Ext.Ajax.request({url:TDS.env.dataPath+b,method:"GET",callback:function(d,a,j){if(a){try{var e=Ext.decode(j.responseText)}catch(i){}Ext.apply(this.pnrRecordData,e)}this.el.unmask()},scope:this})},listeners:{render:function(){var c=this.ownerCt;var d=this.ownerCt.ownerCt;this.dataURI=c.rowRecordData.dataURI;this.setTitle(c.rowRecordData.name);this.pnrRecordData.dataURI=c.rowRecordData.dataURI.split("/",2).join("/");this.el.mask("","x-mask-loading");this.initPnr()}}}