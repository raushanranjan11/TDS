{xtype:"panel",layout:Ext.isIE?"fit":"",autoScroll:true,bodyStyle:"padding: 8px;",items:{xtype:"awesomegrid",searchURI:"",enableRowExpander:true,store:new Ext.data.JsonStore({id:"dataURI",fields:["dataURI","supplierURI","name","type","offeringURI","currency","grossAmount","nettAmount","commissionAmount","commissionPercentage","passengersTotal"]}),summaryCurrency:undefined,processCollectionData:function(c){var b=c[this.getCollectionIdentifier()];for(var a=0;a<b.length;a++){var d=c[b[a]].currency;if(typeof this.summaryCurrency=="undefined"){this.summaryCurrency=d}if(this.summaryCurrency!=d){this.summaryCurrency=false}}return c},sm:new Ext.grid.RowSelectionModel(),cm:new Ext.grid.ColumnModel([{header:"Type",dataIndex:"type",summaryLabel:"Totals"},{header:"Supplier",dataIndex:"supplierURI",renderer:TDS.util.Format.displayResourceConciseNameRenderer()},{header:"Component",dataIndex:"name"},{header:"Gross",dataIndex:"grossAmount",summaryType:"sum",renderer:TDS.util.Price.amountRenderer},{header:"Comm %",dataIndex:"commissionPercentage",renderer:function(a){return Math.round(a)}},{header:"Comm Amount",dataIndex:"commissionAmount",summaryType:"sum",renderer:TDS.util.Price.amountRenderer},{header:"Nett",dataIndex:"nettAmount",summaryType:"sum",renderer:TDS.util.Price.amountRenderer},{header:"Pax",dataIndex:"passengersTotal",width:40}]),plugins:new Ext.ux.grid.GridSummary({processSummaryData:function(a){if(this.grid.summaryCurrency){a.data.currency=this.grid.summaryCurrency;return a}return{data:{}}}}),viewConfig:{forceFit:true},getRowInterface:function(){return"pnr/components/financial/layout.js"},listeners:{sessioninit:function(){var a=this.ownerCt.findParentByType("ajaxpanel");if(!a){return}this.searchURI=TDS.env.dataPath+a.baseDataURI+"/financials";this.overrideCollectionIdentifier=a.baseDataURI+"/financials"}}}}