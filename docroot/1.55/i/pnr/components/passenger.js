{xtype:"panel",layout:Ext.isIE?"fit":"",autoScroll:true,bodyStyle:"padding: 8px;",items:{xtype:"awesomegrid",enableRowExpander:true,sessionExpandedRows:true,tbar:["->",{xtype:"redbutton",text:"Create",handler:function(){var b=this.ownerCt.ownerCt;var a=this.ownerCt.findParentByType("ajaxpanel");if(!a){return}TDS.window.setWindow({title:"Passenger details",information:"Please enter details of a new passenger.",interfaceURI:"pnr/passenger/create.js",postDataURI:a.baseDataURI+"/passengers",callback:{fn:function(d){if(d){var c=this.ownerCt.findParentByType("pnrpanel");c.ownerCt.refreshPnr();b.submitQuery(true)}},scope:b}})}}," ",{xtype:"button",text:"Copy",handler:function(){var d=this.ownerCt.ownerCt;var c=d.selModel.getSelected();if(!c){return}var b=this.ownerCt.findParentByType("ajaxpanel");var a=c.get("dataURI");if(!b||!a){return}TDS.window.setWindow({title:"Passenger details",information:"Please enter details of a new passenger.",interfaceURI:"pnr/passenger/create.js",sourceDataURI:a,postDataURI:b.baseDataURI+"/passengers",callback:{fn:function(f){if(f){var e=this.ownerCt.findParentByType("pnrpanel");e.ownerCt.refreshPnr();d.submitQuery(true)}},scope:d}})}},{xtype:"redbutton",text:"Help",cls:"x-button-blue",overCls:"x-button-blue-over",opened:false,toggle:false,handler:function(){TDS.needHelp("Search View Help","21");if(!this.opened){this.opened=true;TDS.needHelp("Search View Help","21")}else{this.opened=false;TDS.helpwindow.hide()}}}],store:new Ext.data.JsonStore({url:"",id:"dataURI",fields:["dataURI","displayName","code","dateOfBirth","addressString","phoneNumber1","phoneNumber2","emailAddress","gender","addressString","nationalityCountry","ppCountryOfBirthURI","ppExpiryDate","ppIssuedDate","ppNo","ppNotes","skypeAddress","ssrNotes","documentationLocation","addressLine1","addressLine2","locality","state","postcode","countryURI","paxAge"]}),sm:new Ext.grid.RowSelectionModel(),cm:new Ext.grid.ColumnModel([{header:"Passenger",dataIndex:"displayName"},{header:"Type",dataIndex:"code"},{header:"Gender",dataIndex:"gender",renderer:TDS.util.Format.gender},{header:"DOB",dataIndex:"dateOfBirth",renderer:TDS.util.Format.dateSpecialRenderer(TDS.env.dateBirthdayFormatDisplay)},{header:"Age",dataIndex:"paxAge",renderer:function(c,b,a){if(c){return c}else{return TDS.util.Format.age(a.get("dateOfBirth"))}}},{header:"Telephone",dataIndex:"phoneNumber1"},{header:"Email",dataIndex:"emailAddress"}]),viewConfig:{forceFit:true},getRowInterface:function(){return"pnr/passenger/layout.js"},listeners:{sessioninit:function(){var a=this.ownerCt.findParentByType("ajaxpanel");this.searchURI=TDS.env.dataPath+a.baseDataURI+"/passengers"}}}}