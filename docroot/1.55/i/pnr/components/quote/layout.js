{xtype:"panel",header:true,height:320,border:false,refreshGrid:function(){var a=this.ownerCt.findParentByType("awesomegrid");a.submitQuery(true)},items:{xtype:"tabpanel",border:false,activeTab:0,layoutOnTabChange:true,height:320,shared:{details:{}},setDetail:function(b,c){if(typeof b=="object"){for(var a in b){this.shared.details[a]=b[a]}}else{this.shared.details[b]=c}},getDetail:function(a){return this.shared.details[a]},items:[{title:"Details",items:{xtype:"panel",border:true,layout:"column",height:320,bodyStyle:"padding: 2px;",items:[{columnWidth:1,style:"padding: 2px; margin-right: 2px;",xtype:"ajaxpanel",autoHeight:true,interfaceURI:"pnr/components/quote/placeholder.js"},{width:150,xtype:"panel",autoHeight:true,border:false,bodyStyle:"padding: 4px;",defaults:{minWidth:100},items:[{xtype:"button",text:"Book",handler:function(){var c=this.ownerCt.findParentByType("tabpanel");var b=c.ownerCt;var a=c.getDetail("dataURI");if(!a){return}TDS.window.setWindow({title:"Book this Quote",message:"Are you sure you want to Book this Quote ?",destinationDataURI:a+"/bookThisQuote",callback:{fn:function(d){if(d){this.refreshGrid()}},scope:b}})}},{xtype:"button",text:"Cancel",handler:function(){var c=this.ownerCt.findParentByType("tabpanel");var b=c.ownerCt;var a=c.getDetail("dataURI");if(!a){return}Ext.Ajax.request({url:TDS.env.dataPath+a,method:"DELETE",callback:function(f,d,e){if(d){this.refreshGrid()}},scope:b})}}]}]}}]},setDetailInterfaceByType:function(a){var b=this.items.itemAt(0).items.itemAt(0).items.itemAt(0).items.itemAt(0);if(a===TDS.data.componentType.TYPE_ACCOMMODATION){b.interfaceURI="pnr/components/accommodation/detail.js"}else{if(a===TDS.data.componentType.TYPE_TOUR){b.interfaceURI="pnr/components/tour/detail.js"}else{if(a===TDS.data.componentType.TYPE_CRUISE){b.interfaceURI="pnr/components/cruise/detail.js"}else{if(a===TDS.data.componentType.TYPE_HOSTEL){b.interfaceURI="pnr/components/hostel/detail.js"}else{if(a===TDS.data.componentType.TYPE_CAR){b.interfaceURI="pnr/components/car/detail.js"}else{if(a===TDS.data.componentType.TYPE_TRANSFER){b.interfaceURI="pnr/components/transfer/detail.js"}else{if(a===TDS.data.componentType.TYPE_AIR){b.interfaceURI="pnr/components/air/detail.js"}else{if(a===TDS.data.componentType.TYPE_RAIL){b.interfaceURI="pnr/components/rail/detail.js"}else{if(a===TDS.data.componentType.TYPE_ATTRACTION){b.interfaceURI="pnr/components/attraction/detail.js"}}}}}}}}}},listeners:{render:function(){var d=this.ownerCt;var b=this.ownerCt.ownerCt;var e=this.items.itemAt(0);var e=this.items.itemAt(0);e.setDetail(d.rowRecordData);e.setDetail("pnrDataURI",b.ownerCt.ownerCt.baseDataURI);var c=d.rowRecordData.supplierURI;if(c){var a=TDS.util.Format.displayResourceConciseName(c)}this.setTitle(d.rowRecordData.name+" ("+a+")");this.setDetailInterfaceByType(d.rowRecordData.type)}}}