{xtype:"form",border:false,trackResetOnLoad:true,items:{xtype:"tabpanel",border:false,defaults:{border:false},activeTab:0,layoutOnTabChange:true,height:300,items:[{title:"Details",items:{xtype:"panel",layout:"form",labelWidth:110,border:false,style:"padding: 8px;",defaultType:"textfield",items:[{xtype:"combo",store:TDS.data.passengerType,name:"type",fieldLabel:"Type",width:90,editable:false,forceSelection:true,mode:"local",triggerAction:"all",displayField:"text",valueField:"text",value:"...",tpl:'<tpl for="."><div class="x-combo-list-item">{text}, <span style="font-style: italic; font-size: 10px; color: #999;">{description}</span></div></tpl>'},{xtype:"combo",store:TDS.data.salutations,name:"salutation",fieldLabel:"Salutation",width:90,editable:false,forceSelection:true,mode:"local",triggerAction:"all",displayField:"text",valueField:"text",value:"...",listeners:{select:function(){var a=this.getValue();if(a=="Mr"){this.ownerCt.items.itemAt(5).setValue(true);this.ownerCt.items.itemAt(6).setValue(false)}else{if(a=="Mrs"||a=="Ms"||a=="Miss"){this.ownerCt.items.itemAt(5).setValue(false);this.ownerCt.items.itemAt(6).setValue(true)}}}}},{name:"nameLast",fieldLabel:"Family name",width:200,style:"text-transform:capitalize"},{name:"namePreferred",fieldLabel:"Middle name",width:200,style:"text-transform:capitalize"},{name:"nameFirst",fieldLabel:"Given name",width:200,style:"text-transform:capitalize"},{xtype:"datefield",name:"dateOfBirth",fieldLabel:"Date of birth",showToday:false,width:90,format:TDS.env.dateBirthdayFormatDisplay,minValue:"01/01/1901",emptyText:"dd/mm/YYYY",listeners:{blur:function(){if(this.getRawValue()==""){this.ownerCt.items.itemAt(5).getEl().dom.removeAttribute("readOnly")}}},menuListeners:Ext.applyIf({select:function(d,c){Ext.form.DateField.prototype.menuListeners.select.call(this,d,c);var a=new Date();a.setTime(Ext.TimerMgr.getServerCalculatedTime());var b=Math.floor((a.getTime()-c.getTime())/(365.25*24*60*60*1000));this.ownerCt.items.itemAt(6).setValue(b);this.ownerCt.items.itemAt(6).getEl().dom.setAttribute("readOnly",true)}},Ext.form.DateField.prototype.menuListeners)},{xtype:"numberfield",name:"paxAge",fieldLabel:"Age",width:70},{xtype:"radio",name:"gender",fieldLabel:"Gender",boxLabel:"Male",inputValue:"M",checked:true},{xtype:"radio",name:"gender",boxLabel:"Female",labelSeparator:"",inputValue:"F"},{xtype:"checkbox",name:"registeredForMobile",boxLabel:"Registered for Mobile",labelSeparator:""}]}},{title:"Address",items:{xtype:"panel",layout:"form",labelWidth:110,border:false,style:"padding: 8px;",defaultType:"textfield",items:[{name:"addressLine1",fieldLabel:"Address",width:200},{name:"addressLine2",labelSeparator:"",width:200},{name:"locality",fieldLabel:"Locality",width:200},{name:"state",fieldLabel:"State",width:100},{name:"postcode",fieldLabel:"Postcode",width:50},{xtype:"combo",name:"countryURI",fieldLabel:"Country",emptyText:"Type a country...",minChars:1,enableKeyEvents:true,hideTrigger:true,mode:"local",width:160,typeAhead:true,triggerAction:"all",forceSelection:true,selectOnFocus:true,displayField:"name",valueField:"dataURI",store:TDS.data.getStore({dataURI:TDS.env.dataPath+"countries/collection/custom",identifier:"countries",fields:["name","dataURI"]})}]}},{title:"Contact",items:{xtype:"panel",layout:"form",labelWidth:110,border:false,style:"padding: 8px;",defaultType:"textfield",items:[{name:"phoneNumber1",fieldLabel:"Telephone Home",width:100},{name:"phoneNumber3",fieldLabel:"Telephone Work",width:100},{name:"skypeAddress",fieldLabel:"Skype",width:250},{name:"phoneNumber2",fieldLabel:"Mobile",width:100},{name:"fax",fieldLabel:"Fax",width:100},{name:"emailAddress",fieldLabel:"Email",width:250},{name:"emailAddress2",fieldLabel:"Email 2",width:250}]}},{title:"Documentation",items:{xtype:"panel",layout:"form",labelWidth:110,border:false,style:"padding: 8px;",items:[{xtype:"textfield",name:"nationalityCountry",fieldLabel:"Nationality",width:200},{border:false,html:"<p>The ability to add documentation will be available once you have created the passenger.</p>"}]}},{title:"SSR",items:{xtype:"panel",border:false,style:"padding: 8px;",html:"<p>The ability to add Special Service Request's will be available once you have created the passenger.</p>"}}]}}