{height:285,frame:true,width:1000,closable:true,resizable:false,border:false,xtype:"panel",modal:true,config:{shipStore:"",sailingDate:""},listeners:{render:function(d){var c=Ext.getCmp("form").findByType("button");for(var b=0;b<10;b++){c[b].config.roomRecords=this.findParentByType("awesomewindow").getData("rooms")[b]}}},items:[{xtype:"form",height:345,layout:"form",id:"form",clearForm:function(){var a=this.getForm();a.findField("noOfAdult").setValue(0);a.findField("noOfChild").setValue(0);a.findField("noOfInfants").setValue(0);a.findField("noOfCons").setValue(0);a.findField("noOfAccess").setValue(0);a.findField("totalPax").setValue(0)},saveRoomByNumber:function(d){var k=Ext.getCmp("stateroom").getEl().dom.innerText;stateroomNumber=k.substring(k.indexOf(":")+1,k.length);this.config.roomArray.push(stateroomNumber);var a=this.getForm();var i=a.findField("noOfAdult").getValue();var g=a.findField("noOfChild").getValue();var c=a.findField("noOfInfants").getValue();var b=a.findField("noOfCons").getValue();var f=a.findField("noOfAccess").getValue();var h=a.findField("totalPax").getValue();var e={};e.noOfAdult=i;e.noOfChild=g;e.noOfInfants=c;e.noOfCons=b;e.noOfAccess=f;e.totalPax=h;var j=this.config.roomArray;if(j.length>1){e.roomNo=j[(j.length-1)]}else{e.roomNo=j[0]}this.findByType("button")[stateroomNumber-1].config.roomRecords=e;this.findByType("button")[stateroomNumber-1].setText('<div style="color: red">'+stateroomNumber+"</div>")},setOldRecords:function(b){var a=b.findParentByType("form").getForm();a.findField("noOfAdult").setValue(b.config.roomRecords.noOfAdult);a.findField("noOfChild").setValue(b.config.roomRecords.noOfChild);a.findField("noOfInfants").setValue(b.config.roomRecords.noOfInfants);a.findField("noOfCons").setValue(b.config.roomRecords.noOfCons);a.findField("noOfAccess").setValue(b.config.roomRecords.noOfAccess);a.findField("totalPax").setValue(b.config.roomRecords.totalPax)},config:{roomArray:[],buttons:[],totalPax:0,totalAllPax:0},items:[{xtype:"panel",layout:"table",height:30,border:true,layoutConfig:{columns:5},config:{room1:"",room2:""},defaults:{bodyStyle:" padding-top: 5px;padding-right: 5px;padding-left: 40px"},items:[{html:"Number Of Stateroom:",width:180},{width:20},{xtype:"omnicrementer",bodyStyle:" padding-left: 150px;",id:"room",name:"cons",triggerAction:"all",width:60,store:[1,2,3,4,5,6,7,8,9,10],value:1,maxValue:10,minValue:1,config:{flag:false},listeners:{render:function(a){var b=this.ownerCt.items.itemAt(4).items;b.itemAt(0).show(true);b.itemAt(0).setText('<div style="color: red">1</div>')},change:function(b,c,a){},trigger:function(){var k=this.ownerCt.items.itemAt(4).items;var e=this.getValue();Ext.getCmp("totalRoomCount").setValue(e);if(e==0){this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #"}var j=0;for(var f=1;f<10;f++){if(f<e){var i=Ext.getCmp("total").getValue();this.ownerCt.ownerCt.saveRoomByNumber(k.itemAt(f-1));if(this.getValue()!=0){k.itemAt(f).show(true);if(e!=0){this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #:"+(f+1);k.itemAt(f).setText('<div style="color: red">'+(f+1)+"</div>");k.itemAt(f-1).setText('<div style="color: black">'+(f)+"</div>")}else{this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #"}}var g=Ext.getCmp("stateroom").getEl().dom.innerText;stateroomNumber=g.substring(g.indexOf(":")+1,g.length)}else{k.itemAt(f).hide(true);if(e==1){k.itemAt(0).setText('<div style="color: red">'+e+"</div>")}}j=(j+1)}var h=this.findParentByType("awesomewindow").findByType("form")[0].getForm();h.findField("noOfAdult").setValue(0);h.findField("noOfChild").setValue(0);h.findField("noOfInfants").setValue(0);h.findField("noOfCons").setValue(0);h.findField("noOfAccess").setValue(0);h.findField("totalPax").setValue(0)}}},{},{xtype:"panel",height:30,layout:"table",layoutConfig:{columns:11},defaults:{hidden:true},items:[{xtype:"button",name:"room1",readOnly:true,width:20,id:"but1",text:1,config:{roomRecords:""},style:"margin-left:5px; ",listeners:{click:function(){this.setText('<div style="color: red">1</div>');this.ownerCt.items.itemAt(1).setText('<div style="color: black">2</div>');this.ownerCt.items.itemAt(2).setText('<div style="color: black">3</div>');this.ownerCt.items.itemAt(3).setText('<div style="color: black">4</div>');this.ownerCt.items.itemAt(4).setText('<div style="color: black">5</div>');this.ownerCt.items.itemAt(5).setText('<div style="color: black">6</div>');var a=this;this.ownerCt.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #:1";this.ownerCt.ownerCt.ownerCt.clearForm();this.ownerCt.ownerCt.ownerCt.setOldRecords(a)}}},{xtype:"button",style:"margin-left:5px; ",width:20,text:2,name:"room2",id:"but2",config:{roomRecords:""},listeners:{click:function(){var a=this;this.ownerCt.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #:2";this.ownerCt.ownerCt.ownerCt.clearForm();this.ownerCt.ownerCt.ownerCt.setOldRecords(a)},render:function(){this.ownerCt.items.itemAt(1).setText('<div style="color: black">1</div>')}}},{xtype:"button",name:"room3",width:20,style:"margin-left:5px;background:#00ffe9;",text:3,id:"but3",config:{roomRecords:"",flag:false},listeners:{click:function(){var a=this;this.ownerCt.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #:3";this.ownerCt.ownerCt.ownerCt.clearForm();this.ownerCt.ownerCt.ownerCt.setOldRecords(a)}}},{xtype:"button",name:"room4",width:20,style:"margin-left:5px;background:#00ffe9;",text:4,config:{roomRecords:""},listeners:{click:function(){var a=this;this.ownerCt.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #:4";this.ownerCt.ownerCt.ownerCt.clearForm();this.ownerCt.ownerCt.ownerCt.setOldRecords(a)}}},{xtype:"button",name:"room5",width:20,style:"margin-left:5px;background:#00ffe9;",text:5,config:{roomRecords:""},listeners:{click:function(){var a=this;this.ownerCt.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #:5";this.ownerCt.ownerCt.ownerCt.clearForm();this.ownerCt.ownerCt.ownerCt.setOldRecords(a)}}},{xtype:"button",name:"room6",width:20,style:"margin-left:5px;background:#00ffe9;",text:6,config:{roomRecords:""},listeners:{click:function(){var a=this;this.ownerCt.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #:6";this.ownerCt.ownerCt.ownerCt.clearForm();this.ownerCt.ownerCt.ownerCt.setOldRecords(a)}}},{xtype:"button",name:"room7",width:20,style:"margin-left:5px;background:#00ffe9;",text:7,config:{roomRecords:""},listeners:{click:function(){var a=this;this.ownerCt.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #:7";this.ownerCt.ownerCt.ownerCt.clearForm();this.ownerCt.ownerCt.ownerCt.setOldRecords(a)}}},{xtype:"button",name:"room8",width:20,style:"margin-left:5px;background:#00ffe9;",text:8,config:{roomRecords:""},listeners:{click:function(){var a=this;this.ownerCt.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #:8";this.ownerCt.ownerCt.ownerCt.clearForm();this.ownerCt.ownerCt.ownerCt.setOldRecords(a)}}},{xtype:"button",name:"room9",width:20,style:"margin-left:5px;background:#00ffe9;",text:9,config:{roomRecords:""},listeners:{click:function(){var a=this;this.ownerCt.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #:9";this.ownerCt.ownerCt.ownerCt.clearForm();this.ownerCt.ownerCt.ownerCt.setOldRecords(a)}}},{xtype:"button",name:"room10",width:20,style:"margin-left:5px;background:#00ffe9;",text:10,config:{roomRecords:""},listeners:{click:function(){var a=this;this.ownerCt.ownerCt.ownerCt.items.itemAt(2).items.itemAt(0).el.dom.innerText="Stateroom #:10";this.ownerCt.ownerCt.ownerCt.clearForm();this.ownerCt.ownerCt.ownerCt.setOldRecords(a)}}}]}]},{xtype:"panel",layout:"table",height:150,border:true,id:"ww",layoutConfig:{columns:6},config:{room1:"",room2:""},defaults:{},items:[{width:150},{html:" Adults:",style:" padding-left: 20px;",width:100},{xtype:"omnicrementer",id:"adult",name:"noOfAdult",triggerAction:"all",width:60,store:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],value:2,maxValue:14,onTrigger1Click:function(){if(!isNaN(this.el.dom.value)&&!this.disabled){if(this.allowNegative||this.el.dom.value>0){var b=(this.getValue())-1;if(b<this.minValue){return}this.setValue(b);if(this.isValid(true)){this.fireEvent("trigger",this,this.getValue())}}this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).setValue(this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).getValue()-1)}},onTrigger2Click:function(){if(!isNaN(this.el.dom.value)&&!this.disabled){var b=(this.getValue())+1;if(b>this.maxValue){return}this.setValue(b);if(this.isValid(true)){this.fireEvent("trigger",this,this.getValue())}}this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).setValue(this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).getValue()+1)},listeners:{trigger:function(i,h){var j=this.ownerCt.items.itemAt(4).items;var d=this.getValue();for(var f=0;f<14;f++){if(f<d){j.itemAt(f).show(true)}else{j.itemAt(f).hide(true)}}var f="";f=i.ownerCt.items.itemAt(8).getValue()+i.ownerCt.items.itemAt(14).getValue()+i.ownerCt.items.itemAt(20).getValue()+i.ownerCt.items.itemAt(26).getValue()+i.getValue();var g=this.findParentByType("form").config;i.ownerCt.ownerCt.items.itemAt(2).items.itemAt(2).setValue(f)}}},{html:" Age:",style:" padding-left: 20px;",width:80},{xtype:"panel",width:475,height:30,defaults:{hidden:true},layout:"column",items:[{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C15",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C15",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"}]},{},{},{html:" Child:",style:" padding-left: 20px;",width:100},{xtype:"omnicrementer",id:"child",name:"noOfChild",value:"0",triggerAction:"all",width:60,store:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],value:0,maxValue:14,onTrigger1Click:function(){if(!isNaN(this.el.dom.value)&&!this.disabled){if(this.allowNegative||this.el.dom.value>0){var b=(this.getValue())-1;if(b<this.minValue){return}this.setValue(b);if(this.isValid(true)){this.fireEvent("trigger",this,this.getValue())}}this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).setValue(this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).getValue()-1)}},onTrigger2Click:function(){if(!isNaN(this.el.dom.value)&&!this.disabled){var b=(this.getValue())+1;if(b>this.maxValue){return}this.setValue(b);if(this.isValid(true)){this.fireEvent("trigger",this,this.getValue())}}this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).setValue(this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).getValue()+1)},listeners:{trigger:function(h,g){var i=this.ownerCt.items.itemAt(10).items;var d=this.getValue();for(var f=0;f<14;f++){if(f<d){i.itemAt(f).show(true)}else{i.itemAt(f).hide(true)}}var f="";f=h.ownerCt.items.itemAt(2).getValue()+h.ownerCt.items.itemAt(14).getValue()+h.ownerCt.items.itemAt(20).getValue()+h.ownerCt.items.itemAt(26).getValue()+h.getValue();this.findParentByType("form").config.totalPax=f;h.ownerCt.ownerCt.items.itemAt(2).items.itemAt(2).setValue(this.findParentByType("form").config.totalPax)},click:function(){},specialkey:function(b,a){},onTrigger1Click:function(){}}},{html:" Age:",style:" padding-left: 20px;",width:80},{xtype:"panel",width:475,height:30,defaults:{hidden:true},layout:"column",items:[{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C15",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C15",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"}]},{},{},{html:" Infant:",style:" padding-left: 20px;",width:100},{xtype:"omnicrementer",name:"noOfInfants",value:"0",triggerAction:"all",width:60,store:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],value:0,maxValue:14,onTrigger1Click:function(){if(!isNaN(this.el.dom.value)&&!this.disabled){if(this.allowNegative||this.el.dom.value>0){var b=(this.getValue())-1;if(b<this.minValue){return}this.setValue(b);if(this.isValid(true)){this.fireEvent("trigger",this,this.getValue())}}this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).setValue(this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).getValue()-1)}},onTrigger2Click:function(){if(!isNaN(this.el.dom.value)&&!this.disabled){var b=(this.getValue())+1;if(b>this.maxValue){return}this.setValue(b);if(this.isValid(true)){this.fireEvent("trigger",this,this.getValue())}}this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).setValue(this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).getValue()+1)},listeners:{trigger:function(h,g){var i=this.ownerCt.items.itemAt(16).items;var d=this.getValue();for(var f=0;f<14;f++){if(f<d){i.itemAt(f).show(true)}else{i.itemAt(f).hide(true)}}var f="";f=h.ownerCt.items.itemAt(8).getValue()+h.ownerCt.items.itemAt(2).getValue()+h.ownerCt.items.itemAt(20).getValue()+h.ownerCt.items.itemAt(26).getValue()+h.getValue();h.ownerCt.ownerCt.items.itemAt(2).items.itemAt(2).setValue(f)}}},{html:" Age:",style:" padding-left: 20px;",width:80},{xtype:"panel",width:475,height:30,defaults:{hidden:true},layout:"column",items:[{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C15",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C15",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"}]},{},{},{html:" Cons:",style:" padding-left: 20px;",width:100},{xtype:"omnicrementer",name:"noOfCons",value:"0",triggerAction:"all",width:60,store:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],value:0,maxValue:14,onTrigger1Click:function(){if(!isNaN(this.el.dom.value)&&!this.disabled){if(this.allowNegative||this.el.dom.value>0){var b=(this.getValue())-1;if(b<this.minValue){return}this.setValue(b);if(this.isValid(true)){this.fireEvent("trigger",this,this.getValue())}}this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).setValue(this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).getValue()-1)}},onTrigger2Click:function(){if(!isNaN(this.el.dom.value)&&!this.disabled){var b=(this.getValue())+1;if(b>this.maxValue){return}this.setValue(b);if(this.isValid(true)){this.fireEvent("trigger",this,this.getValue())}}this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).setValue(this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).getValue()+1)},listeners:{trigger:function(h,g){var i=this.ownerCt.items.itemAt(22).items;var d=this.getValue();for(var f=0;f<14;f++){if(f<d){i.itemAt(f).show(true)}else{i.itemAt(f).hide(true)}}var f="";f=h.ownerCt.items.itemAt(8).getValue()+h.ownerCt.items.itemAt(14).getValue()+h.ownerCt.items.itemAt(2).getValue()+h.ownerCt.items.itemAt(26).getValue()+h.getValue();h.ownerCt.ownerCt.items.itemAt(2).items.itemAt(2).setValue(f)}}},{html:" Age:",style:" padding-left: 20px;",width:80},{xtype:"panel",width:475,height:30,defaults:{hidden:true},layout:"column",items:[{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C15",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C15",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"}]},{},{},{html:" Access:",style:" padding-left: 20px;",width:100},{xtype:"omnicrementer",name:"noOfAccess",value:"0",triggerAction:"all",width:60,store:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],value:0,maxValue:14,onTrigger1Click:function(){if(!isNaN(this.el.dom.value)&&!this.disabled){if(this.allowNegative||this.el.dom.value>0){var b=(this.getValue())-1;if(b<this.minValue){return}this.setValue(b);if(this.isValid(true)){this.fireEvent("trigger",this,this.getValue())}}this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).setValue(this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).getValue()-1)}},onTrigger2Click:function(){if(!isNaN(this.el.dom.value)&&!this.disabled){var b=(this.getValue())+1;if(b>this.maxValue){return}this.setValue(b);if(this.isValid(true)){this.fireEvent("trigger",this,this.getValue())}}this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).setValue(this.ownerCt.ownerCt.items.itemAt(2).items.itemAt(6).getValue()+1)},listeners:{trigger:function(h,g){var i=this.ownerCt.items.itemAt(28).items;var d=this.getValue();for(var f=0;f<14;f++){if(f<d){i.itemAt(f).show(true)}else{i.itemAt(f).hide(true)}}var f="";f=h.ownerCt.items.itemAt(8).getValue()+h.ownerCt.items.itemAt(14).getValue()+h.ownerCt.items.itemAt(20).getValue()+h.ownerCt.items.itemAt(2).getValue()+h.getValue();h.ownerCt.ownerCt.items.itemAt(2).items.itemAt(2).setValue(f)}}},{html:" Age:",style:" padding-left: 20px;",width:80},{xtype:"panel",width:475,height:30,defaults:{hidden:true},layout:"column",items:[{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C15",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C15",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C11",emptyText:"Age",width:30,style:"margin-left:5px;"},{xtype:"numberfield",name:"C12",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C13",width:30,emptyText:"Age",style:"margin-left:5px;"},{xtype:"numberfield",name:"C14",width:30,emptyText:"Age",style:"margin-left:5px;"}]},{},{},{},{},{},{},{},{}]},{xtype:"panel",style:"padding-left:40px;    padding-top: 15px;",layout:"column",items:[{html:" Stateroom #:1",id:"stateroom",width:110},{html:"Passengers:",style:" padding-left: 20px;",width:100},{xtype:"numberfield",id:"total",name:"totalPax",selectOnFocus:true,value:2,width:60,listeners:{beforestaterestore:function(a){}}},{html:"Total #Stateroom:",style:" padding-left: 25px;",width:120},{xtype:"numberfield",id:"totalRoomCount",width:60,value:1},{html:"Total #Pax:",style:" padding-left: 30px;",width:110},{xtype:"numberfield",width:65,name:"totalAllPax",value:2}]},{xtype:"panel",border:false,layout:"table",layoutConfig:{columns:2},items:[{xtype:"button",text:"Clear",style:" padding-left:350px",listeners:{click:function(a){a.findParentByType("awesomewindow").findByType("form")[0].getForm().reset();a.findParentByType("awesomewindow").findByType("form")[1].getForm().reset()}}},{xtype:"button",text:"Save",id:"search",style:" padding-left:50px",listeners:{click:function(o){var k=Ext.getCmp("awGrid").getTopToolbar();var b=o.findParentByType("awesomewindow").findByType("form")[0].getForm();var c=this.findParentByType("awesomewindow").findByType("form")[0].items.itemAt(1).config.room1;var p={};var g=[];var q=Ext.getCmp("stateroom").getEl().dom.innerHTML;var m=q.substring(q.indexOf(":")+1,q.length);var j=this.findParentByType("form").config.roomArray;var a=Ext.getCmp("search").findParentByType("form").findByType("button");Ext.getCmp("search").findParentByType("form").saveRoomByNumber(buttons[m]);var n=0,l=0,f=0,d=0;for(var h=0;h<10;h++){if(typeof(a[h].config.roomRecords)!="undefined"){if(!((a[h].config.roomRecords.noOfAdult==0)||(a[h].config.roomRecords.noOfChild==0)||(a[h].config.roomRecords.noOfInfants==0)||(a[h].config.roomRecords.noOfCons==0))){n+=a[h].config.roomRecords.noOfAdult;l+=a[h].config.roomRecords.noOfChild;f+=a[h].config.roomRecords.noOfInfants;d+=a[h].config.roomRecords.noOfCons}}}var e=Ext.getCmp("awesomepanel").getTopToolbar();e.items.itemAt(2).setValue(n);e.items.itemAt(5).setValue(l);e.items.itemAt(7).setValue(f);e.items.itemAt(10).setValue(d);o.findParentByType("awesomewindow").hide()}}}]}],listeners:{render:function(){this.findParentByType("awesomewindow").buttons[0].hide()}}}]}