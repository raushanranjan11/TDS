{xtype:"panel",bodyStyle:"padding: 0px;",border:false,layout:"fit",frame:false,width:1000,height:400,beforeSubmit:function(e){;e={};var f=this.items.itemAt(0).items.itemAt(0).items.itemAt(0);var d=f.getSelectionModel().getSelections();var h=[];for(var i=0;i<d.length;i++){var c=d[i].data.dataURI;var b=d[i].data.cabinNumber;var g=d[i].data;h.push(g)}e.cabins=h;e.rateURI=this.ownerCt.initialConfig.data.searchURI;return e},items:[{layout:"table",layoutConfig:{columns:2},closable:false,defaults:{height:30},width:1050,height:400,items:[{layout:"table",layoutConfig:{columns:2},closable:false,defaults:{height:30},height:400,width:700,items:[{xtype:"editableGrid",autoSubmit:true,alwaysUseCollection:true,border:true,width:700,viewConfig:{forceFit:true},tbar:[{xtype:"label",style:"padding-left:292px;"},"->",{xtype:"combo",name:"categeory",width:70}," ",{xtype:"combo",name:"grade",width:70}," ",{xtype:"combo",name:"position",width:70}," ",{xtype:"combo",name:"birth",width:70},{xtype:"button",text:"Cabin Details",handler:function(){var d=this.ownerCt.ownerCt;var c=d.getSelections();var b=c[0].data.dataURI;if(!b){return}TDS.helpwindow.setWindow({title:"Cabin Info",interfaceURI:"pnr/offerings/cruise/cabinDetails.js",sourceDataURI:b,displayCenter:true,buttonOK:false})}},{xtype:"checkbox",checked:true,hidden:true,name:"onlyNotSoled"}],store:new Ext.data.JsonStore({url:TDS.env.dataPath+"cabin",pruneModifiedRecords:true,id:"dataURI",fields:["cabinTypeText","deck","maximumOccupancy","dataURI","pinned","cabinNumber","position","capacity","connect","obstruct","berths","rollaway","crib","dataURI","cabinStatus","catCode","cabinTypeText"]}),sm:new Ext.grid.CheckboxSelectionModel({singleSelect:false}),clicksToEdit:1,cm:new Ext.grid.ColumnModel([new Ext.grid.CheckboxSelectionModel({singleSelect:false,dataIndex:"CheckBoxValue"}),{header:"Category",dataIndex:"cabinTypeText",width:120,sortable:true},{header:"Stateroom",dataIndex:"cabinNumber",sortable:true},{header:"Deck",dataIndex:"deck",width:40,fixed:true,sortable:true},{header:"Position",dataIndex:"position",sortable:true},{header:"Disabled",dataIndex:"disableCabin",width:100,fixed:true,sortable:true},{header:"Berths",dataIndex:"berths",sortable:true},{header:"Status",dataIndex:"cabinStatus",sortable:true},{header:'<span style="color:red"><b>Category</b></span>',dataIndex:" ",width:100,fixed:true,editable:true,sortable:true,hidden:true},{header:'<span style="color:red"><b>Description</b></span>',dataIndex:" ",width:100,fixed:true,editable:true,sortable:true,hidden:true},{header:'<span style="color:red"><b>Upgrade Costs</b></span>',dataIndex:" ",width:140,fixed:true,editor:new Ext.form.NumberField({}),sortable:true,hidden:true}]),listeners:{sessioninit:function(){;var a=this.findParentByType("awesomewindow");this.searchURI=TDS.env.dataPath+a.aw.data.searchURI+"/cabin"},render:function(){var a=this.findParentByType("awesomewindow");a.buttons[0].disable(true);this.getSelectionModel().on("rowselect",function(){a.buttons[0].enable(true)},this.getTopToolbar())}}}]},{html:'<center><br><input type="image" src="/1.50/images/deckplan1.png">',autoScroll:true,border:true,width:298,height:390},{xtype:"panel",width:700,style:"    position:absolute;bottom: -25px;padding-bottom: 25px;",layout:"table",layoutConfig:{columns:2},bbar:["->",{xtype:"button",text:"Upgrade",listeners:{}},{xtype:"button",text:"Close",listeners:{}}]}]}],id:"m",listeners:{render:function(){;var c=this.items.itemAt(0);var a=this.findParentByType("awesomewindow");var e=a.aw.data;var b="";c.items.itemAt(0).html='<br><table ><tr><td width=70%>&nbsp;&nbsp;<font size="2"><b>Category:'+a.aw.data.category+'</b></font></td><td width=30%>&nbsp;&nbsp;<font size="2"><b>Ship: '+a.aw.data.ship+'</b> </font></td></tr><tr><td width=70%>&nbsp;&nbsp;<font size="2"><b> </b> </font></td><td width=30%>&nbsp;&nbsp;<font size="2"><b>Company: Princess Cruises</b> </font></td></tr></table><br> '}}}